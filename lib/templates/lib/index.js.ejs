const { compose, createLambda } = require('pambda');
const { render404 } = require('pambda-404');
const { binarySupport } = require('pambda-binary-support');
const { serveStatic } = require('pambda-serve-static');

exports.handler = createLambda(
  compose(
    binarySupport({
      binaryMediaTypes: [ 'image/*' ],
    }),

    serveStatic('public', {
      basePath: '/',
      index: [ 'index.htm', 'index.html' ],
    }),

    render404()
  )
);
